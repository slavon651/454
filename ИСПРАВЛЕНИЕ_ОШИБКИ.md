# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Could not extract functions"

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

–û—à–∏–±–∫–∞ `"Could not extract functions"` –≤–æ–∑–Ω–∏–∫–ª–∞ –∏–∑-–∑–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `ytdl-core`. YouTube —á–∞—Å—Ç–æ –º–µ–Ω—è–µ—Ç —Å–≤–æ–π API, –∏ —Å—Ç–∞—Ä–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–µ—Ä–µ—Å—Ç–∞–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å.

## üîÑ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ **–£–¥–∞–ª–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** `ytdl-core`
2. ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è** `@distube/ytdl-core` (–≤–µ—Ä—Å–∏—è 4.16.12)
3. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–¥ —Å–µ—Ä–≤–µ—Ä–∞** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–≥–µ–Ω—Ç–∞ –¥–ª—è –ª—É—á—à–µ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
4. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é:

### –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** (Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `npm run dev`)

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   ```bash
   npm run dev
   ```

### –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Windows:

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∑–∞–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π, –∑–∞—Ç–µ–º:

```bash
npm run dev
```

## üìù –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ:

### –í `server/index.js`:

```javascript
// –ë–´–õ–û:
import ytdl from 'ytdl-core';

// –°–¢–ê–õ–û:
import ytdl from '@distube/ytdl-core';

// –î–æ–±–∞–≤–ª–µ–Ω –∞–≥–µ–Ω—Ç –¥–ª—è –ª—É—á—à–µ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:
const agent = ytdl.createAgent();

// –ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö:
const info = await ytdl.getInfo(url, { agent });
```

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

- ‚úÖ **–ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ **–õ—É—á—à–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫
- ‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
- ‚úÖ **–ë–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç: http://localhost:3000

2. –í—Å—Ç–∞–≤—å—Ç–µ –ª—é–±—É—é —Å—Å—ã–ª–∫—É –Ω–∞ YouTube –≤–∏–¥–µ–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   - `https://www.youtube.com/watch?v=dQw4w9WgXcQ`
   - –õ—é–±–æ–µ –¥—Ä—É–≥–æ–µ –ø—É–±–ª–∏—á–Ω–æ–µ –≤–∏–¥–µ–æ

3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –≤–∏–¥–µ–æ"

4. –ï—Å–ª–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∏–¥–µ–æ –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ

## ‚ö†Ô∏è –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å—ë –µ—â—ë –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:

```bash
npm list @distube/ytdl-core
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é 4.16.12 –∏–ª–∏ –≤—ã—à–µ.

### 2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:

```bash
# –£–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É node_modules
rm -rf node_modules

# –ò–ª–∏ –Ω–∞ Windows:
rmdir /s /q node_modules

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
npm install
```

### 3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ:

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–µ–æ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:
- –ü—É–±–ª–∏—á–Ω—ã–µ –≤–∏–¥–µ–æ (–Ω–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ)
- –í–∏–¥–µ–æ –±–µ–∑ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–∏–¥–µ–æ

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:

YouTube –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –ø–ª–æ—Ö–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∏–ª–∏ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏—è—Ö.

## üåü –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

### –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –µ—â–µ –±–æ–ª—å—à–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∫—É–∫–∏:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `cookies.json` –≤ –ø–∞–ø–∫–µ `server/`

2. –î–æ–±–∞–≤—å—Ç–µ –∫—É–∫–∏ –∏–∑ –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –≤ `server/index.js`:

```javascript
import fs from 'fs';

// –ß–∏—Ç–∞–µ–º –∫—É–∫–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
let cookies = [];
try {
  if (fs.existsSync('./server/cookies.json')) {
    cookies = JSON.parse(fs.readFileSync('./server/cookies.json', 'utf8'));
  }
} catch (err) {
  console.log('–ö—É–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, —Ä–∞–±–æ—Ç–∞–µ–º –±–µ–∑ –Ω–∏—Ö');
}

// –°–æ–∑–¥–∞–µ–º –∞–≥–µ–Ω—Ç —Å –∫—É–∫–∏
const agent = ytdl.createAgent(cookies);
```

–ù–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ —ç—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

- **–í–µ—Ä—Å–∏—è ytdl-core**: 4.11.5 ‚Üí @distube/ytdl-core 4.16.12
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–æ**: 15
- **–ù–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π**: –ê–≥–µ–Ω—Ç –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- **–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: < 5 –º–∏–Ω—É—Ç

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ –±–µ–∑ –æ—à–∏–±–æ–∫!

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
npm run dev

# 2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000

# 3. –í—Å—Ç–∞–≤—å—Ç–µ YouTube URL

# 4. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å! üéä
```

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã:

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm update
   ```

2. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –≤–µ—Ä—Å–∏—è–º–∏:**
   ```bash
   npm outdated
   ```

3. **–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä**

## üìû –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–∫–∞—Ö:

### "Cannot find module"
```bash
npm install
```

### "Port 5000 already in use"
–ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `server/index.js`:
```javascript
const PORT = process.env.PORT || 5001; // –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
```

### "CORS error"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω—ã (frontend –∏ backend)

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –¢–µ–ø–µ—Ä—å –≤—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–ª–∏—á–Ω–æ! üöÄ**

–ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã - —Å–º–æ—Ç—Ä–∏—Ç–µ README.md –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
